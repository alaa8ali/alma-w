import React, { useState, useEffect } from 'react';\nimport { vendorService } from '@services/vendorService';\nimport { orderService } from '@services/orderService';\nimport { BarChart, Bar, XAxis, YAxis, CartesianGrid, Tooltip, Legend, ResponsiveContainer } from 'recharts';\nimport { TrendingUp, Package, ShoppingCart, DollarSign } from 'lucide-react';\n\ninterface VendorDashboardProps {\n  vendorId: string;\n}\n\nconst VendorDashboard: React.FC<VendorDashboardProps> = ({ vendorId }) => {\n  const [stats, setStats] = useState<any>(null);\n  const [loading, setLoading] = useState(true);\n  const [chartData, setChartData] = useState<any[]>([]);\n\n  useEffect(() => {\n    fetchVendorStats();\n  }, [vendorId]);\n\n  const fetchBranchStats = async () => {\n    try {\n      setLoading(true);\n      const branchStats = await vendorService.getBranchStats(vendorId);\n      setStats(branchStats);\n\n      // Generate sample chart data\n      const data = [\n        { day: 'Mon', orders: 12, revenue: 1200 },\n        { day: 'Tue', orders: 19, revenue: 1900 },\n        { day: 'Wed', orders: 15, revenue: 1500 },\n        { day: 'Thu', orders: 25, revenue: 2500 },\n        { day: 'Fri', orders: 22, revenue: 2200 },\n        { day: 'Sat', orders: 30, revenue: 3000 },\n        { day: 'Sun', orders: 28, revenue: 2800 },\n      ];\n      setChartData(data);\n    } catch (error) {\n      console.error('Error fetching branch stats:', error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  if (loading) {\n    return <div className=\"text-center py-8 text-gray-500\">Loading dashboard...</div>;\n  }\n\n  const statCards = [\n    {\n      title: 'Total Orders',\n      value: stats?.totalOrders || 0,\n      icon: ShoppingCart,\n      color: 'bg-blue-500',\n    },\n    {\n      title: 'Total Revenue',\n      value: `$${(stats?.totalRevenue || 0).toFixed(2)}`,\n      icon: DollarSign,\n      color: 'bg-green-500',\n    },\n    {\n      title: 'Pending Orders',\n      value: stats?.pendingOrders || 0,\n      icon: Package,\n      color: 'bg-yellow-500',\n    },\n    {\n      title: 'Avg Order Value',\n      value: `$${(stats?.averageOrderValue || 0).toFixed(2)}`,\n      icon: TrendingUp,\n      color: 'bg-purple-500',\n    },\n  ];\n\n  return (\n    <div className=\"w-full max-w-6xl mx-auto p-6 bg-white rounded-lg shadow-lg\">\n      <h1 className=\"text-3xl font-bold text-gray-800 mb-8\">Branch Dashboard</h1>\n\n      {/* Stats Cards */}\n      <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8\">\n        {statCards.map((card, index) => {\n          const Icon = card.icon;\n          return (\n            <div key={index} className=\"bg-white rounded-lg shadow-md p-6 border-l-4 border-blue-500\">\n              <div className=\"flex items-center justify-between\">\n                <div>\n                  <p className=\"text-gray-500 text-sm font-semibold\">{card.title}</p>\n                  <p className=\"text-2xl font-bold text-gray-800 mt-2\">{card.value}</p>\n                </div>\n                <div className={`${card.color} p-3 rounded-full text-white`}>\n                  <Icon size={24} />\n                </div>\n              </div>\n            </div>\n          );\n        })}\n      </div>\n\n      {/* Chart */}\n      <div className=\"bg-white rounded-lg shadow-md p-6 mb-8\">\n        <h2 className=\"text-xl font-semibold text-gray-800 mb-4\">Weekly Performance</h2>\n        <ResponsiveContainer width=\"100%\" height={300}>\n          <BarChart data={chartData}>\n            <CartesianGrid strokeDasharray=\"3 3\" />\n            <XAxis dataKey=\"day\" />\n            <YAxis />\n            <Tooltip />\n            <Legend />\n            <Bar dataKey=\"orders\" fill=\"#3b82f6\" name=\"Orders\" />\n            <Bar dataKey=\"revenue\" fill=\"#10b981\" name=\"Revenue ($)\" />\n          </BarChart>\n        </ResponsiveContainer>\n      </div>\n\n      {/* Additional Info */}\n      <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n        <div className=\"bg-blue-50 rounded-lg p-6\">\n          <h3 className=\"text-lg font-semibold text-gray-800 mb-4\">Today's Summary</h3>\n          <div className=\"space-y-2\">\n            <div className=\"flex justify-between\">\n              <span className=\"text-gray-600\">Orders Today:</span>\n              <span className=\"font-semibold\">12</span>\n            </div>\n            <div className=\"flex justify-between\">\n              <span className=\"text-gray-600\">Revenue Today:</span>\n              <span className=\"font-semibold\">$1,200</span>\n            </div>\n            <div className=\"flex justify-between\">\n              <span className=\"text-gray-600\">Completed Orders:</span>\n              <span className=\"font-semibold\">10</span>\n            </div>\n          </div>\n        </div>\n\n        <div className=\"bg-green-50 rounded-lg p-6\">\n          <h3 className=\"text-lg font-semibold text-gray-800 mb-4\">Quick Actions</h3>\n          <div className=\"space-y-2\">\n            <button className=\"w-full bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700\">\n              View All Orders\n            </button>\n            <button className=\"w-full bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700\">\n              Manage Products\n            </button>\n            <button className=\"w-full bg-purple-600 text-white px-4 py-2 rounded-lg hover:bg-purple-700\">\n              View Analytics\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default VendorDashboard;\n
